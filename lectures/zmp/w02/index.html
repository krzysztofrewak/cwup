<html lang="pl">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Zaawansowane metody programowania</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/5.0.4/reveal.js" integrity="sha512-sw9iNG3nZSCdLzwV7wuxWovgFA+FnYUlMy5AQn9K+C1QxVvG75mWiX8mXUbwmQ9axu1cqeGIF1wUzejP6xRZOQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/5.0.4/reset.min.css" integrity="sha512-Mjxkx+r7O/OLQeKeIBCQ2yspG1P5muhAtv/J+p2/aPnSenciZWm5Wlnt+NOUNA4SHbnBIE/R2ic0ZBiCXdQNUg==" crossorigin="anonymous" referrerpolicy="no-referrer">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/5.0.4/reveal.min.css" integrity="sha512-6OOowvyM6Wl3NXfUTUn/mriLicQy5IoKsrlagy6/YJgd/hYpz4LxVlsV/DBghjcbWwKV4jyheUInWZUjagYVKw==" crossorigin="anonymous" referrerpolicy="no-referrer">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/5.0.4/theme/simple.min.css" integrity="sha512-RRWSpiIK5YG93Pg5fbZs/Rrs3iD4l4RHkQURh9mMmGEOhxA1IhVMjy63ehWXuUYtjzwXs/CPGUzjIaSmNumedw==" crossorigin="anonymous" referrerpolicy="no-referrer"/>
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
        <section>
          <section>
            <h5 class="text-5xl">Zasady SOLID</h5>
            <h5 class="text-2xl">Zaawansowane metody programowania</h5>
            <h5 class="text-2xl">wykład <span class="text-orange-400">2</span> z 15</h5>
            <hr class="border-orange-400 border-opacity-50 my-12">

            <div class="w-full flex gap-4">
              <div class="w-2/5 flex-row flex justify-end items-end">
                <img src="../../../images/witelon.png" class="w-24" alt="Collegium Witelona">
              </div>
              <div class="flex flex-col text-left justify-center leading-tight">
                <div class="text-xl">mgr inż. <span class="font-semibold">Krzysztof Rewak</span>
                </div>
                <div class="text-sm mt-2">Zakład Informatyki, Wydział Nauk Technicznych i Ekonomicznych</div>
                <div class="text-sm">Collegium Witelona Uczelnia Państwowa</div>
                <div class="text-sm mt-2">Blumilk sp. z o.o.</div>
              </div>
            </div>
          </section>
          <section>
            <div class="font-bold text-3xl">Agenda</div>
            <hr class="border-orange-400 border-opacity-50 my-12">

            <ol class="text-lg leading-10">
              <li>Dobre praktyki w programowaniu</li>
              <li>Zasada pojedynczej odpowiedzialności</li>
              <li>Zasada otwarte-zamknięte</li>
              <li>Zasada podstawienia Liskov</li>
              <li>Zasada segregacji interfejsów</li>
              <li>Zasada odwrócenia zależności</li>
              <li>Podsumowanie</li>
            </ol>
          </section>
        </section>

        <section>
          <section>
            Dobre praktyki w programowaniu
          </section>
          <section>
            <div class="font-bold text-3xl">Dekalog programisty</div>
            <hr class="border-orange-400 border-opacity-50 my-12">

            <div class="flex flex-col gap-8 w-2/3 mx-auto text-lg">
              <div>
                Nikt nigdy nie sformułował definitywnych zasad mówiących jak należy programować czy też opisujących
                idealny kod. Przy mnogości technologii, rodzajów i wielkości projektów oraz stylów programowania, budowa
                takich przykazań byłaby z góry skazana na porażkę.
              </div>
            </div>
          </section>
          <section>
            <div class="font-bold text-3xl">Doświadczenie i intuicja</div>
            <hr class="border-orange-400 border-opacity-50 my-12">

            <div class="flex flex-col gap-8 w-2/3 mx-auto text-lg">
              <div>
                Część tzw. "dobrych praktyk" powstała w wyniku skodyfikowania różnych doświadczeń wielu programistów.
                Nie należy ich traktować jak listy nakazów czy zakazów, a raczej jako punkt odniesienia.
              </div>
              <div>
                Warto znać różne punkty widzenia. Tym bardziej, jeżeli okazały się być przydatne w wielu projektach, a
                inni inżynierowie potrafią się do nich odnieść.
              </div>
            </div>
          </section>
          <section>
            <div class="font-bold text-3xl">SOLID</div>
            <hr class="border-orange-400 border-opacity-50 my-12">

            <div class="flex flex-col gap-8 w-2/3 mx-auto text-lg">
              <div>
                Jednym z podstawowych zbiorów dobrych praktyk jest tzw. SOLID.
              </div>
              <div>
                To mnemoniczny akronim zaproponowany przez Roberta C. Martina, który opisuje najważniejsze - jego
                zdaniem - założenia programowania obiektowego.
              </div>
              <div>
                Są to, kolejno: <span class="font-bold">S</span>ingle responsibility principle, <span class="font-bold">O</span>pen/closed
                principle, <span class="font-bold">L</span>iskov substitution principle,
                <span class="font-bold">I</span>nterface segregation principle oraz <span class="font-bold">D</span>ependency
                inversion principle.
              </div>
            </div>
          </section>
        </section>

        <section>
          <section>
            Zasada pojedynczej odpowiedzialności
          </section>
          <section>
            <div class="font-bold text-3xl">SRP</div>
            <hr class="border-orange-400 border-opacity-50 my-12">

            <div class="flex flex-col gap-8 w-2/3 mx-auto text-lg">
              <div>
                <em>Single responsibility principle</em>, SRP, zasada pojedynczej odpowiedzialności.
              </div>
              <div>
                Chyba najłatwiejsza do zrozumienia, do znalezienia we własnym kodzie, ale też niestety do złamania.
                Stanowi, że klasa powinna mieć tylko jedną odpowiedzialność.
              </div>
            </div>
          </section>
          <section>
            <div class="font-bold text-3xl">Odpowiedzialność</div>
            <hr class="border-orange-400 border-opacity-50 my-12">

            <div class="flex flex-col gap-8 w-2/3 mx-auto text-lg">
              <div>
                Odpowiedzialność - przynajmniej w teorii inżynierii oprogramowania - to powód do modyfikacji wartości
                obiektu zbudowanego na podstawie klasy.
              </div>
              <div>
                W dużym uproszczeniu chodzi o to, aby projektować klasy, które będą robiły tylko jedną rzecz.
              </div>
            </div>
          </section>
          <section>
            <pre class="p-4"><code class="text-sm">class UserService
{
    public UserService()
    public UserService(User user)

    public UserService create(array&lt;string> data)
    public UserService update(array&lt;string> data)
    public UserService delete()

    public UserService activate()
    public UserService deactivate()
    public UserService promote()
    public UserService demote()

    public Permissions getPermissions()

    public UserService resetPassword()
    public UserService resetPassword(string password)
}</code></pre>

            <div class="flex flex-col gap-8 mt-12 w-2/3 mx-auto text-lg">
              <div>
                Czy taka klasa jest dobrze zaprojektowana?
              </div>
            </div>
          </section>
          <section>
            <div class="font-bold text-3xl">Tip</div>
            <hr class="border-orange-400 border-opacity-50 my-12">

            <div class="flex flex-col gap-8 w-2/3 mx-auto text-lg">
              <div>
                Nieoficjalnym sposobem na sprawdzenie, czy przypadkiem nie łamiemy SRP, jest sprawdzenie czy nazwa klasy
                faktycznie nam mówi o jej odpowiedzialności.
              </div>
            </div>

            <pre class="p-4"><code class="text-sm">class CreatingUpdatingDeletingActivatingPromotingPermissionsGettingPasswordResetingService
{
    public UserService()
    public UserService(User user)

    public UserService create(array&lt;string> data)
    public UserService update(array&lt;string> data)
    public UserService delete()

    <span class="text-gray-400">// (...)</span>
}</code></pre>
          </section>
          <section>
            <div class="font-bold text-3xl">Rozwiązanie?</div>
            <hr class="border-orange-400 border-opacity-50 my-12">

            <div class="flex flex-col gap-8 w-2/3 mx-auto text-lg">
              <div>
                O wiele lepszym sposobem do zachowania porządku jest stworzenie większej liczby mniejszych klas. Łatwiej
                nimi zarządzać, łatwiej refaktorować i o wiele łatwiej testować i później utrzymywać.
              </div>
            </div>

            <pre class="p-4"><code class="text-sm">class CreateUserAction
{
    public CreateUserAction()
    public User create(array&lt;string> data)
}</code></pre>
            <pre class="p-4"><code class="text-sm">class UserPromotionAction
{
    public UserPromotionAction(User user)
    public void promote()
    public void demote()
}</code></pre>
          </section>
          <section>
            <pre class="p-4"><code class="text-sm">class User
{
    public string id
    public string email
    public string password
    public string firstName
    public string lastName
    public Gender gender
    public Date birthDate
    public Role role
    public bool acceptedRegulations
    public bool acceptedMarketing
    public bool acceptedGdpr
    public Timestamp createdAt
    public ?Timestamp deletedAt
}</code></pre>

            <div class="flex flex-col gap-8 mt-12 w-2/3 mx-auto text-lg">
              <div>
                Powyższe wygląda całkiem sensownie, prawda?
              </div>
            </div>
          </section>
          <section>
            <div class="font-bold text-3xl">Refaktor</div>
            <hr class="border-orange-400 border-opacity-50 my-12">
            <div class="w-full flex">
              <div class="flex-1">
                <pre class="p-4"><code class="text-xs">class User
{
    public string id
    public string email
    public string password
    public Role role
    public Timestamp createdAt
    public ?Timestamp deletedAt

    public UserProfile profile()
    public UserConsents consents()
}</code></pre>
              </div>
              <div class="flex-1">
                <pre class="p-4"><code class="text-xs">class UserProfile
{
    public string firstName
    public string lastName
    public Gender gender
    public Date birthDate
}</code></pre>

                <pre class="p-4"><code class="text-xs">class UserConsents
{
    public bool acceptedRegulations
    public bool acceptedMarketing
    public bool acceptedGdpr
}</code></pre>
              </div>
            </div>

            <div class="flex flex-col gap-8 mt-12 w-2/3 mx-auto text-lg">
              <div>
                Może lepiej podzielić wielką klasę na trzy osobne?
              </div>
            </div>
          </section>
        </section>

        <section>
          <section>
            Zasada otwarte-zamknięte
          </section>
          <section>
            <div class="font-bold text-3xl">OCP</div>
            <hr class="border-orange-400 border-opacity-50 my-12">

            <div class="flex flex-col gap-8 w-2/3 mx-auto text-lg">
              <div>
                <em>Open/closed principle</em>, OCP, zasada otwarte-zamknięte.
              </div>
              <div>
                Wszystkie klasy i ich metody powinny być tak zaprojektowane, aby być otwarte na rozszerzanie, ale zamknięte na modyfikacje.
              </div>
            </div>
          </section>
          <section>
            <div class="font-bold text-3xl">Otwarte/zamknięte</div>
            <hr class="border-orange-400 border-opacity-50 my-12">

            <div class="flex flex-col gap-8 w-2/3 mx-auto text-lg">
              <div>
                Chodzi przede wszystkim o to, aby móc zmieniać zachowania poszczególnych fragmentów kodu bez potrzeby wprowadzania zmian w całym projekcie.
              </div>
            </div>
          </section>
          <section>
            <div class="flex">
              <div class="flex-1">
                <pre class="p-4"><code class="text-sm">class UserRoleHelper
{
    public string getLabel(User user)
    {
        if (user.type === "admin") {
            return "administrator"
        }

        if (user.type === "guest") {
            return "gość"
        }

        throw new UnknownUserRoleExcpetion()
    }
}</code></pre>
              </div>
              <div class="flex-1"><pre class="p-4"><code class="text-sm">UserRoleHelper helper = new UserRoleHelper()

helper.getLabel(new User("john", "admin"))
helper.getLabel(new User("jack", "guest"))
<span class="text-red-500">helper.getLabel(new User("jim", "superadmin"))</span></code></pre></div>
            </div>

            <div class="flex flex-col gap-8 mt-12 w-2/3 mx-auto text-lg">
              <div>
                W takim przypadku dodanie nowej roli będzie wymagało rozszerzenia drzewka ifów w <code>UserRoleHelper</code>.
              </div>
            </div>
          </section>
        </section>

        <section>
          <section>
            Zasada podstawienia Liskov
          </section>
          <section>
            <div class="font-bold text-3xl">LSP</div>
            <hr class="border-orange-400 border-opacity-50 my-12">

            <div class="flex flex-col gap-8 w-2/3 mx-auto text-lg">
              <div>
                <em>Liskov substitution principle</em>, LSP, zasada podstawienia Liskov.
              </div>
            </div>
          </section>
        </section>

        <section>
          <section>
            Zasada segregacji interfejsów
          </section>
          <section>
            <div class="font-bold text-3xl">ISP</div>
            <hr class="border-orange-400 border-opacity-50 my-12">

            <div class="flex flex-col gap-8 w-2/3 mx-auto text-lg">
              <div>
                <em>Interface segregation principle</em>, ISP, zasada segregacji interfejsów.
              </div>
            </div>
          </section>
        </section>

        <section>
          <section>
            Zasada odwrócenia zależności
          </section>
          <section>
            <div class="font-bold text-3xl">DIP</div>
            <hr class="border-orange-400 border-opacity-50 my-12">

            <div class="flex flex-col gap-8 w-2/3 mx-auto text-lg">
              <div>
                <em>Dependency inversion principle</em>, DIP, zasada odwrócenia zależności.
              </div>
            </div>
          </section>
        </section>

        <section>
          <section>
            Podsumowanie
          </section>
          <section>
            <div class="font-bold text-3xl">Highlights</div>
            <hr class="border-orange-400 border-opacity-50 my-12">

            <div class="text-lg w-2/3 mx-auto">
              <ul>
                <li></li>
              </ul>
            </div>
          </section>
          <section>
            <div class="font-bold text-3xl">Źródła i do dalszego poczytania</div>
            <hr class="border-orange-400 border-opacity-50 my-12">

            <div class="text-lg w-2/3 mx-auto">
              <ul>
                <li><em>Czysty kod. Podręcznik dobrego programisty</em>, Robert C. Martin</li>
                <li>projekt <a href="https://github.com/gothinkster/realworld" target="_blank">gothinkster/realworld</a>
                </li>
                <li><a href="https://snipcart.com/blog/webassembly-vs-javascript" target="_blank">Webassembly vs.
                  JavaScript: How Do They Compare</a></li>
                <li><a href="https://syndicode.com/blog/how-to-choose-tech-stack/" target="_blank">How to choose the
                  right tech stack for your project?</a></li>
              </ul>
            </div>
          </section>
          <section>
            Dziękuję za uwagę
          </section>
        </section>
      </div>
    </div>

    <script>
      Reveal.initialize({
        hash: true,
      })
    </script>
  </body>
</html>
